{
	"variables":
	[
		["ScreenshotHandle", "m_ScreenshotHandle"],
		["bool", "m_Hooked"]
	],

	"functions":
	{
        "WriteScreenshot":
        {
            "precall":
            [
                "// We start a Coroutine with the actual implementation of this test because Texture2D.ReadPixels() has to be called at the end of the frame.",
                "StartCoroutine(WriteScreenshot());"
            ],
            "args": ["RGB", "(uint)RGB.Length", "Screen.width", "Screen.height"]
        },
        "AddScreenshotToLibrary":
        {
            "precall":
            [
                "Application.CaptureScreenshot(\"screenshot.png\");",
                "// Application.CaptureScreenshot is asyncronous, therefore we have to wait until the screenshot is created.",
                "StartCoroutine(AddScreenshotToLibrary());"
            ],
            "args": ["Application.dataPath + \"/screenshot.png\", \"\"", "Screen.width", "Screen.height"]
        },
		"HookScreenshots":
		{
			"args": ["!m_Hooked"],
			"postcall": ["m_Hooked = !m_Hooked;"]
		},
        "SetLocation":
        {
            "args": ["m_ScreenshotHandle", "\"LocationTest\""]
        },
        "TagUser":
        {
            "args": ["m_ScreenshotHandle", "(CSteamID)76561197991230424"]
        },
        "TagPublishedFile":
        {
            "args": ["m_ScreenshotHandle", "(PublishedFileId_t)0"]
        }
	}
}